<!DOCTYPE html>


<html lang="en">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="demon" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> O</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <!-- mermaid -->
      
      <script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js"></script>
      
    <link rel="alternate" href="/atom.xml" title="O" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">O</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['————————————————————————————————————————', '', ''],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-src/w10_extensions/mechanics"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2021/01/07/src/w10_extensions/mechanics/" class="article-date">
  <time datetime="2021-01-07T09:11:06.799Z" itemprop="datePublished">2021-01-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="string">&quot;../../code&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> init_mooc_nb <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">init_notebook()</span><br><span class="line"><span class="keyword">import</span> topomech</span><br></pre></td></tr></table></figure>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Today’s lecture will be given by Vincenzo Vitelli, from Leiden University. You will learn about topologically protected mechanical structures, that mirror the properties of topological insulators and quantum Hall systems.</p>
<p>The main concepts and mathematical ideas will be presented in the context of real mechanical prototypes. Hopefully, this approach will stimulate you to cross the line that too often separates theory from applications.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;i-eNPei2zMg&quot;</span>, src_location=<span class="string">&quot;10.2-intro&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The materials of this lecture are kindly provided by the Topological Mechanics lab at Leiden University: Vincenzo Vitelli (PI), Bryan Chen, Anne Meeussen, Jayson Paulose, Benny van Zuiden, and Yujie Zhou. They are copyright of their creators, and are available under a<br><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0<br>International License.</a><br><a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-sa/4.0/"><br><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a></p>
<h1 id="Kink-and-anti-kink"><a href="#Kink-and-anti-kink" class="headerlink" title="Kink and anti-kink"></a>Kink and anti-kink</h1><p>Let’s consider the chain you saw in the video:</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/chain_scheme.png" alt></p>
<p>In the figure, the red dashed lines represent springs and the green arrows the vibrational eigenvectors. The rigid rotors are in black, while the blue dots are point masses of magnitude $m$.</p>
<p>Imagine the system with periodic boundary conditions, that is on a closed ring. As you can see from the figure, in the bulk there are an equal number of degrees of freedom (the rotors) as there are constraints (the springs). This can be seen as a ‘‘charge neutrality‘‘ condition:</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/chaint.png" alt></p>
<p>If you cut the ring, you remove one constraint, and now there is a zero energy mode in the system. We will discuss later that the direction the rotors lean plays a role of a ‘‘mechanical’’ polarization.</p>
<p>The constraint counting does not tell you where the mode will be located, but if you write the dynamical matrix and find the zero eigenmode, you will learn that the zero mode (whose eigenvectors are represented in the figure as green arrows) is localized at the edge towards which the rotors are pointing. Note that we are tacitly assuming that the vibrational modes of this structure are gapped. Convince yourself that the gap closes if the angle of repose, labeled by $\bar{\theta}$, is equal to zero.</p>
<p>A study of the vibrational modes of this chain was presented in the original paper of Kane and Lubensky, which was mentioned in the introductory video:</p>
<ul>
<li>arXiv:1308.0554</li>
</ul>
<p>We shall now show that the zero mode localized at the edge is a time snaphot of a non-linear object, the kink that separates regions of left and right leaning rotors, a bit like a domain wall in an Ising model:</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/kink.png" alt></p>
<p>To see that, it is easier to consider the constraint equation $l^2_{n,n+1}=\bar{l}^2$ that demands that the length of the springs $l_{n, n+1}$ between any two rotors labeled by $n$ and $n+1$ is not stretched. This is certainly the case for the rigid bar systems shown in the video which correspond to the limit of infinite spring constant. Such systems are called <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Linkage_%28mechanical%29">linkages</a>.  </p>
<p>In terms of the parameters defined in the first figure, the constraint equation $l^2_{n,n+1}=\bar{l}^2$ reads</p>
<p>$$<br>\require{action}<br>\require{color}<br>\toggle{<br>\cos(\theta _{n} + \theta _{n+1}) - \cos(2\bar{\theta}) + \frac{a}{r}(\sin\theta _{n} - \sin\theta _{n+1})=0<br>\textit{ (click for explanation)}.}{<br>l^2 = r^2 (\cos\theta_1 + \cos\theta_2)^2 + [r(\sin\theta_1 - \sin\theta_2) + a]^2 \textit{ (click more)}<br>}{<br>l^2 = 2 r^2 + a^2 + 2r^2 \cos\theta_1\cos\theta_2 - 2r^2\sin\theta_1\sin\theta_2 + 2ar(\sin\theta_1 - \sin\theta_2) \textit{, and so}<br>}{<br>(l^2 - 2r^2 - a^2)/2r = \color{red}{r\cos(\theta_1 + \theta_2) + a(\sin\theta_1 - \sin\theta_2) = r\cos(2\bar{\theta})}<br>}<br>\endtoggle<br>$$</p>
<p>To take the continuum limit of the above equation, we define a slowly-varying angular field $\theta (x)$ and subsequently define the field $u(x)=r\sin\theta (x)$, the $x$-component of the position of the mass. When $r/a$ is sufficiently small, we obtain</p>
<p>$$<br>\frac{a^2}{2}\frac{du}{dx} = u^2-\bar{u}^2,<br>$$</p>
<p>where $\bar u\equiv |r\sin\bar\theta|&gt;0$. Besides the uniform left- and right-leaning solutions<br>$u(x)=\pm \bar u$, this equation admits only one <em>zero-energy</em> solution (for $u&lt;\bar{u}$) given by the kink</p>
<p>$$<br>u(x) = \bar u\tanh\left(\frac{x-x_0}{w_0}\right),<br>$$</p>
<p>where $w_0=a^2/2\bar u$ is the width of the static domain wall that interpolates between left-leaning ($u&lt;0$ as $x\rightarrow-\infty$) and right-leaning ($u&gt;0$ as $x\rightarrow+\infty$) states.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">question = <span class="string">r&quot;What happens to the kink width $w_0$ when the gap closes?&quot;</span></span><br><span class="line"></span><br><span class="line">answers = [<span class="string">&quot;It goes to zero.&quot;</span>, <span class="string">&quot;It does not vary.&quot;</span>, <span class="string">&quot;It diverges.&quot;</span>]</span><br><span class="line"></span><br><span class="line">explanation = (</span><br><span class="line">    <span class="string">r&quot;We said that a gap equal to zero corresponds to $\bar&#123;\theta&#125;\to0$. &quot;</span></span><br><span class="line">    <span class="string">r&quot;This gives $w_0 = a^2/2\bar&#123;u&#125;d \propto 1 / |\sin \bar\theta \to \infty$.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MoocMultipleChoiceAssessment(</span><br><span class="line">    question=question, answers=answers, correct_answer=<span class="number">2</span>, explanation=explanation</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h1 id="Non-linear-dynamics"><a href="#Non-linear-dynamics" class="headerlink" title="Non-linear dynamics"></a>Non-linear dynamics</h1><p>You can explicitly obtain a continuum Lagrangian for the chain which, in the limit $l(x)\approx\bar{l}$ and $\bar{\theta}\ll 1$, reads:</p>
<p>$$<br>\mathcal{L}=\int dx \left[\frac{1}{2}M\left(\frac{\partial<br>u}{\partial t}\right)^2 -<br>\frac{1}{2}K\frac{a^4}{4}\left(\frac{\partial u}{\partial<br>x}\right)^2 -\frac{1}{2}K(\bar u^2-u^2)^2 - \frac{1}{2} K \frac{a^2}{2}(\bar<br>u^2-u^2)\frac{\partial u}{\partial x}\right].<br>$$</p>
<p>The first term is a linearized kinetic energy, while the second and third terms are the ordinary <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Quartic_interaction">$\phi^4$ field theory</a> that you might have encountered for instance while studying the Ising model.</p>
<p>The final term linear in $\partial_x u$ is topological in the sense that it integrates to the boundary. It ensures that the static kink has zero energy, since the last three terms in the Lagrangian can be combined into a perfect square, that vanishes for the static kink solution (this is sometimes called a BPS state). The topological boundary term does not affect the equations of motions in the bulk, but it breaks the $\partial_x u \rightarrow -\partial_x u$ symmetry of the $\phi^4$ theory. That’s why the two edges are not equivalent in terms of initiating the kink motion.</p>
<p>The anti-kink solution (with left- and right-leaning states reversed in space) costs a finite stretching energy. Hence, the anti-kink is forbidden in the ground state represented by the linkage limit, where $k_e \rightarrow \infty$. The anti-kink would require an opposite choice of sign in front of the topological boundary term.</p>
<p>As discussed in the introductory video, however, something that behaves like an anti-kink can be obtained if we stick in the system a rigid bar much longer than the others:</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/antikink.png" alt></p>
<p>Rather than analyzing mathematically the dynamics of the Lagrangian above, watch the two videos below that<br>show the motion in the linkage limit.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;BE4NDhfdpBQ&quot;</span>, src_location=<span class="string">&quot;10.2-topological-linkages-I&quot;</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;mRjpzC4rJx0&quot;</span>, src_location=<span class="string">&quot;10.2-topological-linkages-II&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>If you are curious about the mathematical details and a systematic study of the dynamics in the springs-rotors system, you can check out the following paper:</p>
<ul>
<li>arXiv:1404.2263</li>
</ul>
<p>Note that with different geometrical parameters, the same chain above can realize the <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Sine-Gordon_equation">sine-Gordon Lagrangian</a>. As before, check out the following movie:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;w2k1Y0WON2E&quot;</span>, src_location=<span class="string">&quot;10.2-topological-linkages-III&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The same reference above contains hints on how to build this structure with LEGO - plus of course all the mathematical details!</p>
<h1 id="Zero-modes-and-states-of-self-stress"><a href="#Zero-modes-and-states-of-self-stress" class="headerlink" title="Zero modes and states of self-stress"></a>Zero modes and states of self-stress</h1><p>At this point we could expand around the kink solution and find a zero mode localized at its center where the gap closes. Such a zero mode allows the kink to translate as shown in the linkage video.</p>
<p>For now we will simply remark that if one views the orientation along which the rotors lean as a mechanical polarization, then there will be an excess positive ‘‘charge’’ corresponding to a soft mode at the kink center and a negative one at the anti-kink (see the last two figures). Never mind if this electrostatic analogy is not yet clear; we will return to it and show that the antikink harbours a so-called ** state of self stress**, a dual state to the zero mode.  </p>
<p>Before doing that we need to review the Maxwell count which is a <strong>global</strong> relation that stipulates that the number of zero modes $n_\text{m}$, present in an arbitrary mechanical structure, is simply given by the difference between the number of degrees of freedom minus the number of <strong>independent</strong> constraints.</p>
<p>For simplicity, assume that the mechanical structure under examination can be viewed as a network composed of $N_\text{s}$ sites (for instance point masses) connected by $N_\text{b}$ central force bonds (for instance springs or rigid beams) in $d$ dimensions. In this case, the number of degrees of freedom is given by $d N_\text{s}$ and the <strong>total</strong> number of constraints is simply $N_\text{b}$. The states of self-stress are the <strong>redundant</strong> constraints present in the structure, whose number we denote by $n_{ss}$.</p>
<p>The Maxwell criterion then reads</p>
<p>$$<br>d N_\text{s} - N_\text{b} = n_{m} - n_{ss},.<br>$$</p>
<p>Let’s apply this equation to the following examples of mechanical structures:</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/modecount.png" alt></p>
<p>Note that on the left panel there are 4 sites in 2 dimensions, hence 8 degrees of freedom. There are also 4 bonds which leaves 4 soft modes, as prescribed by the Maxwell criterion. You can easily verify that there are 2 trivial translational and 1 rotational zero modes plus 1 non-trivial zero mode, the one indicated by the arrows in the figure.</p>
<p>If you add two extra bonds along the diagonals, as in the right panel, the left hand side of the Maxwell count gives 2. Now, the 3 translations and rotations are still there, the non-trivial zero mode is no longer present but there is one redundant constraint or state of self stress. The difference between the 3 trivial zero modes and the state of self stress gives<br>indeed 2, again as expected from the Maxwell criterion. Here we will denote structures for which the left hand side of the Maxwell count is zero as <strong>isostatic</strong>.</p>
<p>(Note that this is an abuse of terminology.  Strictly speaking, isostatic<br>structures have $dN_{\text{s}}-n_{m,\text{triv}}=N_\text{b}$ and $n_{ss}=0$, where<br>$n_{m,\text{triv}}$ is the number of translations and rotations in $d$<br>dimensions.)</p>
<p>As a simple test of your knowledge, consider the following question whose answer will prove handy later.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">question = (</span><br><span class="line">    <span class="string">r&quot;What is the number of bonds $z_c$ emanating from each node in a $d$-dimensional isostatic structure &quot;</span></span><br><span class="line">    <span class="string">&quot;where all nodes have the same number of bonds (neglecting boundaries)?&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">answers = [<span class="string">r&quot;$z_c=d$.&quot;</span>, <span class="string">r&quot;$z_c=2d$.&quot;</span>, <span class="string">r&quot;$z_c=d(d-1)$.&quot;</span>, <span class="string">r&quot;$z_c=d^2$.&quot;</span>]</span><br><span class="line"></span><br><span class="line">explanation = (</span><br><span class="line">    <span class="string">&quot;In an isostatic structure we have equal number of degrees of freedom and number of constraints. &quot;</span></span><br><span class="line">    <span class="string">&quot;This gives the equation $d N = z N /2$, because each bond is shared by two sites.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MoocMultipleChoiceAssessment(</span><br><span class="line">    question=question, answers=answers, correct_answer=<span class="number">1</span>, explanation=explanation</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Why do we call redundant constraints with the name <em>states of self stress</em>?</p>
<p>Consider the example in the right panel of the figure. Note that if you apply a suitable distribution of stresses  in the bonds, the structure will remain in static equilibrium. In the example, you can apply a compression to the vertical and horizontal bars, which corresponds to an outgoing force on the masses, and a tension on the diagonal bars such that this outgoing force is canceled. The numbers next to the springs in the figure (positive for the compressions, negative for tensions) give the right ratios such that the forces cancel.</p>
<p>We see therefore that states of self stress are assignments of tensions or compressions to (some of) the bonds that do not result in net forces on the nodes. As such, they are <em>dual</em> to the zero energy mechanical modes, which are displacements of some of the sites that do not result in tensions or compressions of the bonds (that’s why they cost zero elastic energy).</p>
<p>This relation between states of self stress and zero modes can be made more precise by introducing the rigidity, or compatibility, matrix $R_{ij}$ that describes the small distortions of the mechanical structure captured by linear elastic theories. This $R$ matrix relates the bond extensions $e_i = R_{ij} u_j$ to the site displacements $u_j$.</p>
<p>The zero energy modes are members of the null space of $R_{ij}$, which in an isostatic system are also the (right) eigenvectors of $R_{ij}$ with eigenvalue 0. (Convince yourself that the rigidity matrix is square for an isostatic system.)</p>
<p>Conversely the states of self stress are the zero eigenvectors  of the transpose matrix $R^{T}$ that relates the forces on the nodes to the tensions in the bonds. The Maxwell count equation follows from the rank-nullity theorem and can be expressed as an index theorem. (We suggest the reader interested in a careful proof and statement of these results to consult <a target="_blank" rel="noopener" href="http://arxiv.org/abs/1503.01324">this review</a>.)</p>
<p>Here we merely remark that if one smoothly deforms the network without cutting bonds or adding sites then the left hand side of the Maxwell count does not change. This means that after such a smooth deformation, the difference between the number of zero modes and states of self stress must remain invariant even if $n_m$ and $n_{ss}$ change individually. In this sense the isostatic condition can be viewed as a charge neutrality condition. As we shall see,  this electrostatic analogy is far reaching. We will now turn our attention to periodic mechanical structures that are isostatic, hence ‘‘charge neutral’’, but mechanically polarized so that edge modes can appear at the sample boundary like charges in an electrically polarized medium.</p>
<h1 id="Topological-band-theory"><a href="#Topological-band-theory" class="headerlink" title="Topological band theory"></a>Topological band theory</h1><p>The first step is to set up a topological band theory of vibrational modes by defining the Fourier-transformed rigidity matrix $R(\mathbf{k})$ whose determinant is complex: $\det R(\mathbf{k}) \equiv |\det R(\mathbf{k})|e^{i\phi(\mathbf{k})}$. Consider now for simplicity a two dimensional lattice whose phonons are gapped, away from $\mathbf{k}=\mathbf{0}$, like the twisted Kagome lattice shown at the end of the introductory video.</p>
<p>Two winding numbers,<br>$n_i={n_1,n_2}$, of $\phi(\mathbf{k})$ can be evaluated using</p>
<p>$$<br>n_i=- \frac{1}{2\pi}\oint_{C_i}d\mathbf{k}\cdot\nabla_\mathbf{k}<br>\phi(\mathbf{k})<br>$$</p>
<p>along the two cycles ${C_1,C_2}$ of the Brillouin zone corresponding to the reciprocal lattice directions orthogonal to the basis vectors ${\mathbf{a}_1,\mathbf{a}_2}$ of the lattice. The winding numbers are invariants of the gapped lattice; smooth<br>deformations do not change $n_i$ unless the lattice becomes untwisted and the phonon gap closes along a line in the Brillouin zone. We can now define the topological polarization</p>
<p>$$<br>\mathbf{P}_T   = \sum_i n_i \mathbf{a}_i.<br>$$</p>
<p>In the figure below, the topological polarization of the deformed Kagome lattice is $\mathbf{P}_T = \mathbf{a}_1$ in terms of the primitive vectors $\mathbf{a}_i$.</p>
<p><img src="/2021/01/07/src/w10_extensions/mechanics/kagome.png" alt></p>
<p>Kane and Lubensky proved that the number of topological zero modes (i.e. modes that arise without adding or removing bonds anywhere in the structure) minus the number of topological states of self stress, $\nu_\text{T}$, in any lattice subsystem bounded by $\cal C$ is given by</p>
<p>$$<br>\nu_\text{T} = \oint_{\cal C} \frac{d^{d-1}S}{V_\text{cell}} \mathbf{P}_T  \cdot\hat{n},<br>$$</p>
<p>where $\hat{n}$ is the inward-pointing normal to the boundary, and $V_\text{cell}$ is the $d$-dimensional volume of the unit cell.</p>
<p>Notice that this result applies to a <strong>patch</strong> of the material, unlike the original Maxwell count which is a <strong>global</strong> statement. It can be understood intuitively with the aid of the electrostatic analogy to polarized media. Just as Gauss’s law yields the net charge enclosed in a region from the flux of the <em>electric</em> polarization through its boundary, the net<br>value of $\nu_\text{T}$ in an arbitrary portion of an isostatic lattice is given by the flux of the <em>topological</em> polarization through its boundary.</p>
<h1 id="Dislocations-and-topological-zero-modes"><a href="#Dislocations-and-topological-zero-modes" class="headerlink" title="Dislocations and topological zero modes"></a>Dislocations and topological zero modes</h1><p>Watch now the following video that explains visually how to insert inside a twisted Kagome lattice a topological defect called a dislocation. You encountered dislocations and disclinations in a previous lecture by Taylor Hughes. (Alternatively, an excellent introduction to topological defects is given in chapter nine of the book by Chaikin and Lubensky, <em>Principles of Condensed Matter Physics</em>). The video will show you how to localize topological zero modes or states of self stress in the interior of a lattice with defects that act as internal boundary where the gap locally closes.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;Mrm7JH6LJJI&quot;</span>, src_location=<span class="string">&quot;10.2-dislocations&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The key point in designing the lattice in the video  is that the dislocations must not change the local balance between degrees of freedom and constraints. The video shows such a dislocation, obtained by pairing a five-coordinated plaquette with a seven-coordinated plaquette.</p>
<p>More details can be found in this paper:</p>
<ul>
<li>arXiv:1406.3323</li>
</ul>
<p>Since no lattice point disclinations are used, every lattice point still has exactly four bonds emanating from it (remember the condition for isostaticity from the first control question!).</p>
<p>Each dislocation is characterized by a topological charge of its own called the Burgers vector, $\bf b$, that measures the deficit in <em>any</em> circuit surrounding it that would be closed in a perfect lattice. The dipole moment, $\bf d$, of the<br>five- and seven-fold coordinated plaquettes (highlighted in green and orange respectively)<br>is obtained upon rotating $\bf b$ by $\pi/2$. It points outward from the added strip of material that terminates at the dislocation, and its length is equal to the width of that strip. Therefore, $\bf d$ quantifies the orientation and size of the effective ‘‘edge’’ created by the dislocation. The dipole moments of the dislocation on the left in the video (${\bf d}_l = (2/\sqrt{3})({\bf a}_1- {\bf a}_2/2)$)  and on the right (${\bf d}_r =-{\bf d}_l$) are aligned with and against the<br>lattice polarization, respectively (see also the last figure).</p>
<p>If you evaluate the flux of the topological polarization, $\mathbf{P}_T$, through a contour encircling an isolated dislocation using the last equation of the previous unit, you obtain</p>
<p>$$<br>\nu_\text{T} =\frac{1}{V_\text{cell}}\mathbf{P}_T  \cdot  \mathbf{d},<br>$$</p>
<p>where $V_\text{cell} = |,\textbf{a}_1,\times,\textbf{a}_2,|$ is the unit cell area. The topologically protected modes arise from a delicate interplay between<br>a Berry phase associated with cycles in the Brillouin zone, embedded in ${\bf P}_T$, and the Berry phase of a topological<br>defect in real space, represented by its Burgers vector (or dipole $\mathbf{d}$).</p>
<p>A similar interplay dictates the existence of localized electronic modes at dislocations in conventional topological insulators. One obtains $\nu_\textrm{T}=+1,(-1)$ for the left (right) dislocation in the deformed Kagome lattice shown in the figure and in the video. The sign of $\nu_\text{T}$  distinguishes zero modes ($+$) or states of self stress ($-$), while its magnitude gives their numbers.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">question = (</span><br><span class="line">    <span class="string">&quot;Consider the square lattice shown in the following figure, where the primitive vectors $a_i$ &quot;</span></span><br><span class="line">    <span class="string">r&quot;are of equal length and have an angle $\pi/2$ between them, &quot;</span></span><br><span class="line">    <span class="string">r&quot;$P_T=a_1-a_2$, $d_L = a_1-a_2$, and $d_R=-d_L$. &quot;</span></span><br><span class="line">    <span class="string">r&quot;What is the topological mode count $\nu_T$ associated with the left and right dislocation respectively?&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">answers = [<span class="string">r&quot;$(1,-1)$.&quot;</span>, <span class="string">r&quot;$(-1,1)$.&quot;</span>, <span class="string">r&quot;$(2,-2)$.&quot;</span>, <span class="string">r&quot;$(-2,2)$.&quot;</span>]</span><br><span class="line"></span><br><span class="line">explanation = (</span><br><span class="line">    <span class="string">r&quot;$P_T$ is parallel to $d_L$ and anti-parallel to $d_R$, and they all have length $\sqrt&#123;2&#125;$. &quot;</span></span><br><span class="line">    <span class="string">r&quot;The unit cell has unit area, so the formula  gives $\nu_T=(2, -2)$.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MoocMultipleChoiceAssessment(</span><br><span class="line">    question=question, answers=answers, correct_answer=<span class="number">2</span>, explanation=explanation</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><img src="/2021/01/07/src/w10_extensions/mechanics/square.png" alt></p>
<p>Notice that the zero modes in the Kagome lattice can also be localized at domain walls and the localization length diverges as the gap closes.</p>
<p>In the numerical simulation below, you can see explicitly that transforming the unit cell of the deformed Kagome lattice changes the localization properties and ultimately the location of the topological zero mode. In the simulation, we set up a perfectly isostatic lattice with periodic boundary conditions, and two domain walls separating a fixed unit cell on the outside with a unit cell that we modify in the inner region.</p>
<p>The unit cell chosen on the outside has topological polarization zero, while the topological polarization on the inside changes as you deform the unit cell by moving the slider. What you see plotted as you move the slider is the eigenvector associated with the lowest-energy eigenstate of the dynamical matrix, represented as a set of displacements on the lattice points (red arrows).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> holoviews.core.element <span class="keyword">import</span> Element2D</span><br><span class="line"><span class="keyword">from</span> holoviews.plotting.mpl <span class="keyword">import</span> ElementPlot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Figure</span>(<span class="params">Element2D</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FigurePlot</span>(<span class="params">ElementPlot</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initialize_plot</span>(<span class="params">self, ranges=<span class="literal">None</span></span>):</span></span><br><span class="line">        element = self.hmap.last</span><br><span class="line">        self.handles[<span class="string">&quot;fig&quot;</span>] = element.data</span><br><span class="line">        <span class="keyword">return</span> self.handles[<span class="string">&quot;fig&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_init_axis</span>(<span class="params">self, fig, ax</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Override this method to avoid creating a useless figure.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_frame</span>(<span class="params">self, key, ranges=<span class="literal">None</span>, element=<span class="literal">None</span></span>):</span></span><br><span class="line">        element = self._get_frame(key)</span><br><span class="line">        self.handles[<span class="string">&quot;fig&quot;</span>] = element.data</span><br><span class="line">        <span class="keyword">return</span> self.handles[<span class="string">&quot;fig&quot;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">holoviews.Store.register(&#123;Figure: FigurePlot&#125;, <span class="string">&quot;matplotlib&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_figure</span>(<span class="params">x</span>):</span></span><br><span class="line">    x1 = (<span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">0.1</span>)</span><br><span class="line">    x2 = (x, -x, -x)</span><br><span class="line">    mesh = topomech.dwallslab(x1, x2)</span><br><span class="line">    fig = topomech.showlocalizedmode(mesh)</span><br><span class="line">    plt.close(fig)</span><br><span class="line">    <span class="keyword">return</span> fig</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">holoviews.HoloMap(&#123;i: Figure(get_figure(i)) <span class="keyword">for</span> i <span class="keyword">in</span> np.linspace(-<span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">21</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p>(We thank Jayson Paulose for providing the simulation.)</p>
<p>You can see that the localized mode changes position from left to right between the beginning and the end of the deformation procedure. This is because our deformation has switched the polarization of the unit cell in the inner part of the system. In the middle of the transformation, there is a gap closing in the bulk, i.e. the zero mode extends through the bulk rather than being confined to either domain wall. You can explain this behavior using the analogy of polarization flux we have developed above.</p>
<p>These examples show how to insert topologically protected mechanical modes anywhere you want in the lattice. In the video and in the numerical simulation, the activation was performed ‘‘by hand’’. However, these soft motions can also be activated by adding motors that can cause some motions that perform a desired task, as is the case in robotic structures.</p>
<h1 id="States-of-self-stress-and-selective-buckling"><a href="#States-of-self-stress-and-selective-buckling" class="headerlink" title="States of self-stress and selective buckling"></a>States of self-stress and selective buckling</h1><p>You may get the impression that only the zero modes are potentially useful and the states of self stress are merely bookeeping devices that do nothing. This is far from truth, as will be illustrated in the next video.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;RbJTxKFqO7I&quot;</span>, src_location=<span class="string">&quot;10.2-buckling&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>As you can see, by controlling the position of states of self stress, you can pre-select the region of a material that will fail, for example by buckling. All you have to do is to activate the self stress by pushing on the structure in the same way as you had to activate the zero modes to set them in motion.</p>
<p>You can find out more details in this paper.</p>
<ul>
<li>arXiv:1502.03396</li>
</ul>
<p>In summary, states of self stress and zero modes represent <strong>propensities</strong> that a structure has to respond by mechanical failure (triggered by stress concentrations) or free motion respectively. In topological mechanics we control how these states of motion or stress are positioned in a material by lattice geometry and topology, rather than variations in local properties like elastic moduli or local coordination.</p>
<p>As a result these states are designed to be topologically robust under smooth deformations and yet tunable, e.g. you can choose where to position them by adding defects to the lattice and choose their localization properties by playing with the gap. The tunability in response to changes in lattice structure is a crucial feature that lets us exploit the properties of weak topological insulators in a mechanical context.</p>
<h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;j0X0sVy_6Og&quot;</span>, src_location=<span class="string">&quot;10.2-summary&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>Questions about what you just learned? Ask them below!</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocDiscussion(<span class="string">&quot;Questions&quot;</span>, <span class="string">&quot;Topological Mechanics&quot;</span>)</span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-src/w10_extensions/gapless"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2021/01/07/src/w10_extensions/gapless/" class="article-date">
  <time datetime="2021-01-07T09:11:06.798Z" itemprop="datePublished">2021-01-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="string">&quot;../../code&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> init_mooc_nb <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">init_notebook()</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> cm</span><br><span class="line"><span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> hsv_to_rgb</span><br><span class="line"></span><br><span class="line">pi_ticks = [(-np.pi, <span class="string">r&quot;$-\pi$&quot;</span>), (<span class="number">0</span>, <span class="string">&quot;$0$&quot;</span>), (np.pi, <span class="string">r&quot;$\pi$&quot;</span>)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">d_wave</span>(<span class="params">w=<span class="literal">None</span>, direction=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Creates a d-wave system.</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    Parameters:</span></span><br><span class="line"><span class="string">    -----------</span></span><br><span class="line"><span class="string">    w : int</span></span><br><span class="line"><span class="string">        Width of the system, if None the system is infinite</span></span><br><span class="line"><span class="string">    direction : str</span></span><br><span class="line"><span class="string">        Direction of translation symmetry, if None it&#x27;s an infinite</span></span><br><span class="line"><span class="string">        system in x and y.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hopx</span>(<span class="params">site1, site2, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> -p.t * pauli.sz - p.delta * pauli.sx</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hopy</span>(<span class="params">site1, site2, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> -p.t * pauli.sz + p.delta * pauli.sx</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onsite</span>(<span class="params">site, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="number">4</span> * p.t - p.mu) * pauli.sz</span><br><span class="line"></span><br><span class="line">    lat = kwant.lattice.square()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> w:</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">ribbon_shape</span>(<span class="params">pos</span>):</span></span><br><span class="line">            (x, y) = pos</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        sym = kwant.TranslationalSymmetry(*lat.prim_vecs)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> direction == <span class="string">&quot;topo&quot;</span>:</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">ribbon_shape</span>(<span class="params">pos</span>):</span></span><br><span class="line">                (x, y) = pos</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span> &lt;= y - x &lt; w</span><br><span class="line"></span><br><span class="line">            sym = kwant.TranslationalSymmetry((<span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">elif</span> direction == <span class="string">&quot;triv&quot;</span>:</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">ribbon_shape</span>(<span class="params">pos</span>):</span></span><br><span class="line">                (x, y) = pos</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span> &lt;= y &lt; w</span><br><span class="line"></span><br><span class="line">            sym = kwant.TranslationalSymmetry((<span class="number">1</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    syst = kwant.Builder(sym)</span><br><span class="line"></span><br><span class="line">    syst[lat.shape(ribbon_shape, (<span class="number">0</span>, <span class="number">0</span>))] = onsite</span><br><span class="line">    syst[kwant.HoppingKind((<span class="number">1</span>, <span class="number">0</span>), lat)] = hopx</span><br><span class="line">    syst[kwant.HoppingKind((<span class="number">0</span>, <span class="number">1</span>), lat)] = hopy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> syst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">graphene_infinite</span>():</span></span><br><span class="line">    lat = kwant.lattice.honeycomb()</span><br><span class="line">    a, b = lat.sublattices</span><br><span class="line">    syst = kwant.Builder(kwant.TranslationalSymmetry(*lat.prim_vecs))</span><br><span class="line">    syst[lat.shape(<span class="keyword">lambda</span> pos: <span class="literal">True</span>, (<span class="number">0</span>, <span class="number">0</span>))] = <span class="number">0</span></span><br><span class="line">    syst[kwant.builder.HoppingKind((<span class="number">0</span>, <span class="number">0</span>), a, b)] = <span class="keyword">lambda</span> site1, site2, p: p.t_1</span><br><span class="line">    syst[kwant.builder.HoppingKind((<span class="number">0</span>, <span class="number">1</span>), a, b)] = <span class="keyword">lambda</span> site1, site2, p: p.t_23</span><br><span class="line">    syst[kwant.builder.HoppingKind((-<span class="number">1</span>, <span class="number">1</span>), a, b)] = <span class="keyword">lambda</span> site1, site2, p: p.t_23</span><br><span class="line">    <span class="keyword">return</span> syst</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plot_dets</span>(<span class="params">syst, p, ks, chiral=<span class="literal">False</span></span>):</span></span><br><span class="line">    B = np.array(syst.symmetry.periods).T</span><br><span class="line">    A = B @ np.linalg.inv(B.T @ B)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">momentum_to_lattice</span>(<span class="params">k</span>):</span></span><br><span class="line">        k, residuals = np.linalg.lstsq(A, k, rcond=-<span class="number">1</span>)[:<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>(k)</span><br><span class="line"></span><br><span class="line">    syst = kwant.wraparound.wraparound(syst).finalized()</span><br><span class="line">    kys, kxs = np.meshgrid(ks, ks)</span><br><span class="line">    dets = np.zeros_like(kxs, dtype=<span class="built_in">complex</span>)</span><br><span class="line">    <span class="keyword">for</span> i, kx <span class="keyword">in</span> <span class="built_in">enumerate</span>(ks):</span><br><span class="line">        <span class="keyword">for</span> j, ky <span class="keyword">in</span> <span class="built_in">enumerate</span>(ks):</span><br><span class="line">            kx, ky = momentum_to_lattice([kx, ky])</span><br><span class="line">            ham = syst.hamiltonian_submatrix(params=<span class="built_in">dict</span>(p=p, k_x=kx, k_y=ky))</span><br><span class="line">            <span class="keyword">if</span> chiral:</span><br><span class="line">                <span class="comment"># Bring the chiral symmetric Hamiltonian in offdiagonal form</span></span><br><span class="line">                U = (pauli.s0 + <span class="number">1j</span> * pauli.sx) / np.sqrt(<span class="number">2</span>)</span><br><span class="line">                ham = U @ ham @ U.T.conjugate()</span><br><span class="line">            dets[i, j] = ham[<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line">    H = np.angle(dets) / (<span class="number">2</span> * np.pi)</span><br><span class="line">    V = np.<span class="built_in">abs</span>(dets)</span><br><span class="line">    H = np.mod(H, <span class="number">1</span>)</span><br><span class="line">    V /= np.<span class="built_in">max</span>(V)</span><br><span class="line">    V = <span class="number">1</span> - V ** <span class="number">2</span></span><br><span class="line">    S = np.ones_like(H)</span><br><span class="line">    HSV = np.dstack((H, S, V))</span><br><span class="line">    RGB = hsv_to_rgb(HSV)</span><br><span class="line">    bounds = (ks.<span class="built_in">min</span>(), ks.<span class="built_in">min</span>(), ks.<span class="built_in">max</span>(), ks.<span class="built_in">max</span>())</span><br><span class="line">    pl = holoviews.RGB(RGB, bounds=bounds, label=<span class="string">r&quot;$\det(h)$&quot;</span>, kdims=[<span class="string">&quot;$k_x$&quot;</span>, <span class="string">&quot;$k_y$&quot;</span>])</span><br><span class="line">    <span class="keyword">return</span> pl.opts(plot=&#123;<span class="string">&quot;xticks&quot;</span>: pi_ticks, <span class="string">&quot;yticks&quot;</span>: pi_ticks&#125;).opts(</span><br><span class="line">        style=&#123;<span class="string">&quot;interpolation&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Weyl_slab</span>(<span class="params">w=<span class="number">5</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hopx</span>(<span class="params">site1, site2, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.5j</span> * p.t * pauli.sx - p.t * pauli.sz</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hopy</span>(<span class="params">site1, site2, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> -p.t * pauli.sz</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hopz</span>(<span class="params">site1, site2, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0.5j</span> * p.t * pauli.sy - p.t * pauli.sz</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">onsite</span>(<span class="params">site, p</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">6</span> * p.t * pauli.sz - p.mu * pauli.sz</span><br><span class="line"></span><br><span class="line">    lat = kwant.lattice.general(np.eye(<span class="number">3</span>))</span><br><span class="line">    syst = kwant.Builder(kwant.TranslationalSymmetry([<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shape</span>(<span class="params">pos</span>):</span></span><br><span class="line">        (x, y, z) = pos</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> &lt;= z &lt; w</span><br><span class="line"></span><br><span class="line">    syst[lat.shape(shape, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>))] = onsite</span><br><span class="line">    syst[kwant.HoppingKind((<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>), lat)] = hopx</span><br><span class="line">    syst[kwant.HoppingKind((<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>), lat)] = hopy</span><br><span class="line">    syst[kwant.HoppingKind((<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), lat)] = hopz</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> syst</span><br></pre></td></tr></table></figure>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Ashvin Vishwanath from the University of California, Berkeley will introduce Weyl semimetals and other examples of gapless, yet topological, systems.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocVideo(<span class="string">&quot;MAWwa4r1qIc&quot;</span>, src_location=<span class="string">&quot;10.1-intro&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Topological-invariants-of-Fermi-surfaces"><a href="#Topological-invariants-of-Fermi-surfaces" class="headerlink" title="Topological invariants of Fermi surfaces"></a>Topological invariants of Fermi surfaces</h1><p>The idea that leads us to the topology of gapless systems is extremely simple. It is:</p>
<blockquote>
<p>If we consider momentum as an external conserved parameter, we can study topological closings of the gap in momentum space.</p>
</blockquote>
<p>Let’s consider the simplest type of topological invariant, one we learned about at the very beginning of this course. Remember the simplest topological invariant of a 0D Hamiltonian, the number of filled energy levels? What if we take two points in momentum space, $\mathbf{k}_1$ and $\mathbf{k}_2$, and consider a Hamiltonian such that the number of filled states changes by $n$ between these two points? We can conclude that there are at least $n$ Fermi surfaces that lie on every path between $\mathbf{k}_1$ and $\mathbf{k}_2$ in momentum space.</p>
<p>Now we just need to take this idea and apply it to more interesting systems and topological invariants!</p>
<p>What types of topological invariants are relevant? Aside from special circumstances, we cannot make use of time-reversal or particle-hole symmetries: in momentum space these only have an immediate effect in isolated $\mathbf{k}$-points, where every momentum component is either $0$ or $\pi$. So there are no paths in momentum space for which either of the symmetries is effective in each point.</p>
<p>So we are left with only two symmetry classes: A and AIII (no symmetry at all or sublattice/chiral symmetry), and with only two invariants: if there is a sublattice symmetry, a winding number can be defined, and without it there’s a Chern number.</p>
<h1 id="Graphene-and-protected-Dirac-cones"><a href="#Graphene-and-protected-Dirac-cones" class="headerlink" title="Graphene and protected Dirac cones"></a>Graphene and protected Dirac cones</h1><p>We’ve already analysed the 0D Chern number that stabilizes the usual Fermi surfaces. Let’s go one dimension higher, and study winding numbers in systems with sublattice symmetry around 1D loops. </p>
<p>For a winding number to be nonzero, we need to consider 1D loops in momentum space. As a reminder, with sublattice symmetry the Hamiltonian can always be brought to the form</p>
<p>$$<br>H = \begin{pmatrix}<br>0 &amp; h(\mathbf{k}) \<br>h^\dagger(\mathbf{k}) &amp; 0<br>\end{pmatrix}<br>$$</p>
<p>The topological invariant is a nonzero winding of $\det h(\mathbf{k})$ when $\mathbf{k}$ goes around some contour. Since $h(\mathbf{k})$ is continuous, this means that its determinant also has to vanish somewhere inside this contour.</p>
<p>To study a particular example where this appears, let’s return to graphene, which we studied as a simple limit of Haldane model. For graphene we have the Hamiltonian</p>
<p>$$h(k_x, k_y) = t_1 e^{i \mathbf{k} \cdot \mathbf{a_1}} + t_2 e^{i \mathbf{k} \cdot \mathbf{a_2}} + t_3 e^{i \mathbf{k} \cdot \mathbf{a_3}},$$</p>
<p>where $t_1, t_2, t_3$ are the three hoppings connecting a site in one of the two graphene sublattices, and $a_1, a_2, a_3$ are the lattice vectors connecting one unit cell to its neighbors.</p>
<p>To consider something specific, let’s take $t_2 = t_3 = t$ and vary $t_1$. This is what the band structure and $\det h$ look like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">%%output size=<span class="number">150</span> fig=<span class="string">&#x27;png&#x27;</span></span><br><span class="line">p = SimpleNamespace(t_1=<span class="number">1.0</span>, t_23=<span class="number">1.0</span>)</span><br><span class="line">syst = graphene_infinite()</span><br><span class="line">ks = np.sqrt(<span class="number">3</span>) * np.linspace(-np.pi, np.pi, <span class="number">80</span>)</span><br><span class="line">kwargs = <span class="built_in">dict</span>(</span><br><span class="line">    title=<span class="keyword">lambda</span> p: <span class="string">r&quot;Graphene, $t_1 = &#123;:.2&#125; \times t$&quot;</span>.<span class="built_in">format</span>(p.t_1), zticks=<span class="number">3</span></span><br><span class="line">)</span><br><span class="line">ts = np.linspace(<span class="number">1</span>, <span class="number">2.4</span>, <span class="number">8</span>)</span><br><span class="line">(</span><br><span class="line">    holoviews.HoloMap(</span><br><span class="line">        &#123;p.t_1: spectrum(syst, p, k_x=ks, k_y=ks, **kwargs) <span class="keyword">for</span> p.t_1 <span class="keyword">in</span> ts&#125;,</span><br><span class="line">        kdims=[<span class="string">&quot;$t_1$&quot;</span>],</span><br><span class="line">    )</span><br><span class="line">    + holoviews.HoloMap(</span><br><span class="line">        &#123;p.t_1: plot_dets(syst, p, ks) <span class="keyword">for</span> p.t_1 <span class="keyword">in</span> ts&#125;, kdims=[<span class="string">&quot;$t_1$&quot;</span>]</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>The left panel shows the band structure, and you see that it has gapless points. The right panel shows $\det h$ by using hue as a phase and intensity as magnitude (so white is $\det h = 0$). There are two Dirac points (you see 6, but this is because we plot more than one Brillouin zone). </p>
<p>We also see that the winding numbers around these two Dirac points have opposite signs (because by going around them clockwise you encounter red, blue and green colors in opposite orders). This must always be the case since the winding number around the edges of the complete Brillouin zone must vanish - as you walk down every edge of the Brillouin zone twice in opposite directions, their contributions always cancel.</p>
<p>As $t_1$ increases, the two poles move towards each other, eventually annihilating and leaving a completely gapped dispersion relation. Let’s now try to obtain an effective model for the dispersion at each pole and at the phase transition point.</p>
<p>We know that $\det h$ has to vanish next to some point $\mathbf{k}_0$. We can expand the Hamiltonian to a linear order next to this point, which immediately leaves us with a Hamiltonian</p>
<p>$$<br>H(\mathbf{k}) =<br>\begin{pmatrix}<br>0 &amp; e^{i\alpha} (v_x \delta k_x + i v_y \delta k_y) \<br>e^{-i\alpha} (v_x \delta k_x - i v_y \delta k_y) &amp; 0<br>\end{pmatrix},<br>$$</p>
<p>where $\mathbf{\delta k}$ is of course the difference between $\mathbf{k}$ and the Dirac point momentum. Of course this is the 2D Dirac equation, which should be very familiar now.</p>
<p>At the phase transition where the two Dirac points annihilate, we can also quickly guess that the correct dispersion should be a quadratic function along the axis connecting the two Dirac points, and linear along the other axis (this is also what we see in the plot). We thus have</p>
<p>$$<br>H(\mathbf{k}) =<br>\begin{pmatrix}<br>0 &amp; e^{i\alpha} (\beta \delta k_1^2 + m + i v_2 \delta k_2) \<br>e^{-i\alpha} (\beta \delta k_1^2 + m - i v_2 \delta k_2) &amp; 0<br>\end{pmatrix},<br>$$</p>
<p>such that for $m&gt;0$ we have a fully gapped Hamiltonian, and for $m&lt;0$ there are two Dirac points.</p>
<h1 id="d-wave-superconductors-and-edge-states"><a href="#d-wave-superconductors-and-edge-states" class="headerlink" title="$d$-wave superconductors and edge states"></a>$d$-wave superconductors and edge states</h1><p>Gapless points with Dirac dispersion were known for quite some time before graphene. They exist in the cuprate family of high temperature superconductors, known to have a $d$-wave order parameter. These materials are layered, with weak couplings between the layers, so in the study of these complicated systems, one often starts with a simplified two-dimensional Hamiltonian.</p>
<p>This Hamiltonian just has the usual kinetic energy term of a single particle band and a superconducting pairing proportional to $k_x^2 - k_y^2$, namely</p>
<p>$$<br>H = \begin{pmatrix}<br>k^2/2m -\mu &amp; \Delta (k_x^2 - k_y^2) \<br>\Delta (k_x^2 - k_y^2) &amp; \mu-k^2/2m<br>\end{pmatrix}.<br>$$</p>
<p>There is no spin-orbit coupling here, so the Hamiltonian has a spinless time-reversal symmetry $H = H^<em>$. It also has a particle-hole symmetry $H= - \tau_y H^</em> \tau_y$. Their product, the chiral symmetry $H = -\tau_y H \tau_y$ allows the Hamiltonian to have gapless points where both the single-particle dispersion and the pairing vanish.</p>
<h2 id="Difference-between-sublattice-symmetries"><a href="#Difference-between-sublattice-symmetries" class="headerlink" title="Difference between sublattice symmetries"></a>Difference between sublattice symmetries</h2><p>Time-reversal symmetry ensures that the winding points come in pairs at opposite momenta, just like in graphene.<br>In graphene however, the chiral symmetry operator $\sigma_z$ commutes with the time-reversal symmetry operator. This means that applying time-reversal symmetry changes the direction of a loop in momentum space, but leaves the winding number invariant. In $d$-wave superconductors on the other hand, the chiral symmetry operator $\tau_y$ is odd under time-reversal (i.e. the operators anticommute), and the winding is invariant under it.</p>
<p>This means that a Dirac point at momentum $k$ and positive winding must come together with a Dirac point at $-k$ and also positive winding. Since the total winding over the Brillouin zone must be 0, this means that in superconducting systems the Dirac points come in quadruplets: two with positive winding and two with negative winding.</p>
<p>The $d$-wave superconductor Hamiltonian gives just that: there are 4 Dirac points at $|k_x| = |k_y| = k_F / \sqrt{2}$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">question = <span class="string">r&quot;What happens if you make the 2D $d$-wave Hamiltonian 3D, by adding coupling between 2D layers?&quot;</span></span><br><span class="line"></span><br><span class="line">answers = [</span><br><span class="line">    <span class="string">&quot;The Dirac points couple and gap out.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;In 3D you cannot have a $d$-wave pairing.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;There will remain isolated gapless points in the larger 3D Brillouin zone.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;You get a closed 1D Dirac line of gap closings in the 3D Brillouin zone.&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">explanation = (</span><br><span class="line">    <span class="string">r&quot;The real and imaginary parts of the solutions of $\det h(\mathbf&#123;k&#125;)=0$ form two surfaces &quot;</span></span><br><span class="line">    <span class="string">r&quot;in the Brillouin zone. The intersection of these two surfaces is a line.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MoocMultipleChoiceAssessment(</span><br><span class="line">    question=question, answers=answers, correct_answer=<span class="number">3</span>, explanation=explanation</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="Edge-states"><a href="#Edge-states" class="headerlink" title="Edge states"></a>Edge states</h2><p>Now let’s see how bulk-edge correspondence can be made to work for gapless systems. The idea here is to consider the projection of the wave vector parallel to a continuous sample boundary $k_\parallel$ as a parameter, and to apply the bulk-edge correspondence to the remaining lower-dimensional Hamiltonian.</p>
<p>Whenever the line corresponding to a constant $k_\parallel$ crosses a Dirac point, the winding number of the Hamiltonian $H(k_\parallel)$ changes by the winding of the Dirac point. This means that for certain values of momentum parallel to the boundary, a zero energy edge state will appear.</p>
<p>For a $d$-wave superconductor this will only happen for some crystalline orientations, as you can see for yourself:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">%%opts VLine (color=<span class="string">&#x27;k&#x27;</span>)  Curve (linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">p = SimpleNamespace(mu=<span class="number">2.0</span>, t=<span class="number">1.0</span>, delta=<span class="number">1.0</span>)</span><br><span class="line">k = np.arccos(<span class="number">1</span> - p.mu / p.t / <span class="number">4</span>)</span><br><span class="line">ks = np.linspace(-np.pi, np.pi, <span class="number">50</span>)</span><br><span class="line">sys0 = d_wave()</span><br><span class="line">sys1 = d_wave(<span class="number">50</span>, direction=<span class="string">&quot;topo&quot;</span>)</span><br><span class="line">sys2 = d_wave(<span class="number">50</span>, direction=<span class="string">&quot;triv&quot;</span>)</span><br><span class="line"></span><br><span class="line">det_plot = plot_dets(sys0, p, ks, chiral=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">det_plot1 = (</span><br><span class="line">    det_plot</span><br><span class="line">    * holoviews.Curve(([-np.pi, np.pi], [np.pi, -np.pi]))</span><br><span class="line">    * holoviews.Curve(([-np.pi, np.pi - <span class="number">2</span> * k], [np.pi - <span class="number">2</span> * k, -np.pi]))</span><br><span class="line">    * holoviews.Curve(([-np.pi + <span class="number">2</span> * k, np.pi], [np.pi, -np.pi + <span class="number">2</span> * k]))</span><br><span class="line">).relabel(<span class="string">&quot;$\det(h)$&quot;</span>)</span><br><span class="line"></span><br><span class="line">det_plot2 = det_plot * holoviews.VLine(k) * holoviews.VLine(-k)</span><br><span class="line"></span><br><span class="line">kwargs = <span class="built_in">dict</span>(k_x=ks, ylims=[-<span class="number">2</span>, <span class="number">2</span>], xticks=pi_ticks, yticks=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">(</span><br><span class="line">    spectrum(sys1, p, title=<span class="string">&quot;Ribbon with edge states&quot;</span>, **kwargs)</span><br><span class="line">    * holoviews.VLine(-<span class="number">2</span> * k)</span><br><span class="line">    * holoviews.VLine(<span class="number">2</span> * k)</span><br><span class="line">    + det_plot1</span><br><span class="line">    + spectrum(sys2, p, title=<span class="string">&quot;Ribbon without edge states&quot;</span>, **kwargs)</span><br><span class="line">    * holoviews.VLine(-k)</span><br><span class="line">    * holoviews.VLine(k)</span><br><span class="line">    + det_plot2</span><br><span class="line">).cols(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>On the right panels you once again see $\det h$, with added lines denoting different the values of $k_{\parallel}$ crossing the Dirac points. If the sample boundary is along the $(1, 0)$ axis, the Dirac points have coinciding $k_{\parallel}$, and their windings cancel, so that no single value of $k_{\parallel}$ carries an edge state.</p>
<p>On the other hand, the crystal boundary (1, 1), which lies at an angle $\pi/4$ with respect to the crystallographic axes, has a total winding of +2 at $k_{\parallel}=0$ and a winding of −1 for $k_{\parallel}=\pm k_F$. In this case, each $|k_{\parallel}|&lt;k_F$ carries a single edge state.</p>
<p>These edge states were known to exist long before the discovery of topological insulators, and it is fascinating to see how they perfectly fit to the theory of topological phenomena!</p>
<h1 id="Weyl-points"><a href="#Weyl-points" class="headerlink" title="Weyl points"></a>Weyl points</h1><p>So far we’ve seen two examples of Dirac points in two dimensions, the surface of a 3D topological insulator and graphene. You might wonder, why don’t we have such cones in three dimensions? These do indeed exist and are called Weyl points instead of Dirac points. The reason is historical - Dirac’s equation for the electron (which  is in 3D) involves states with four components, two for the electron and two for the hole. The direct generalization of graphene to $3D$ that we will discuss involves states with two electron component. Such electron states with linear dispersion were studied first by Weyl, and have strange properties as we will illustrate below.</p>
<p>Let us start by writing the low-energy Hamiltonian for the three dimensional generalization of graphene:</p>
<p>$$H({\bf k})=(\sigma_x k_x+\sigma_y k_y+\sigma_z k_z).$$</p>
<p>Here you might think of $\sigma_{x,y,z}$ as the spin of the electron (just as on the surface of a topological insulator).</p>
<p>Next we try the usual thing we would do with a two-dimensional Dirac cone - namely see what happens when we gap it out by applying a magnetic field $\bf\sigma\cdot B$. Adding such a term, we find that the Hamiltonian transforms as follows: </p>
<p>$$H({\bf k})\rightarrow H({\bf k})+{\bf\sigma\cdot B}={\bf\sigma\cdot (k+B)}.$$</p>
<p>The key observation here is that the addition of a magnetic field effectively shifts the wave-vector as </p>
<p>$${\bf k}\rightarrow \tilde{\bf k}={\bf k+ B}.$$</p>
<blockquote>
<p>So applying the most general perturbation we can think of does not gap out the Weyl point where the energy vanishes. Instead, the perturbation only shifts the Weyl point around in momentum space. This feels like some kind of topological protection.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">%%output fig=<span class="string">&#x27;png&#x27;</span></span><br><span class="line">%%opts Surface [azimuth=<span class="number">45</span>]</span><br><span class="line"></span><br><span class="line">syst = Weyl_slab(w=<span class="number">10</span>)</span><br><span class="line">p = SimpleNamespace(t=<span class="number">1.0</span>, mu=<span class="literal">None</span>)</span><br><span class="line">mus = np.linspace(-<span class="number">0.4</span>, <span class="number">2</span>, <span class="number">13</span>)</span><br><span class="line"></span><br><span class="line">kwargs = <span class="built_in">dict</span>(</span><br><span class="line">    k_x=np.linspace(-np.pi, <span class="number">0</span>),</span><br><span class="line">    k_y=np.linspace(-np.pi, np.pi),</span><br><span class="line">    title=<span class="keyword">lambda</span> p: <span class="string">&quot;Weyl semimetal, $\mu = &#123;:.2&#125;$&quot;</span>.<span class="built_in">format</span>(p.mu),</span><br><span class="line">    num_bands=<span class="number">4</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">holoviews.HoloMap(&#123;p.mu: spectrum(syst, p, **kwargs) <span class="keyword">for</span> p.mu <span class="keyword">in</span> mus&#125;, kdims=[<span class="string">r&quot;$\mu$&quot;</span>])</span><br></pre></td></tr></table></figure>

<p>Is there a sense in which Weyl points are “topological”? They are clearly protected, but is there some topological reason for the protection? As in the rest of this section, the topology of gapless system becomes apparent by looking at the Hamiltonian in lower dimensional subspaces of momentum space. For the case of Weyl, the momentum space is three dimensional, so let us look at two dimensional subspaces of momentum space.</p>
<p>A natural subspace to choose is to fix $k_z=m$. The Weyl Hamiltonian then becomes that of a massive 2D Dirac cone</p>
<p>$$H_{2D,Dirac}(k_x,k_y;m)\equiv H(k_x,k_y,k_z=m)=(\sigma_x k_x+\sigma_y k_y+m\sigma_z).$$</p>
<p>As we talked about in week 4 with Chern insulators, the massive Dirac model has a Chern number, which changes by $1$ if $m$ changes sign. </p>
<blockquote>
<p>So we can think of the Weyl Hamiltonian in the momentum planes at fixed $k_z$ as Chern insulators with Chern numbers $n_{Ch}=0$ (i.e. trivial) if $k_z &lt; 0$ and $n_{Ch}=1$ (topological) if $k_z &gt; 0$.  The Hamiltonian at $k_z=0$ is at the phase transition point of the Chern insulator, which supports a gapless Dirac point.</p>
</blockquote>
<p>Systems with Weyl points are known as Weyl semimetals. Just like other topological phases, Weyl semimetals have an interesting surface spectrum. We can understand this easily by viewing the Weyl point as a stack of Chern insulators in momentum space. For any surface in a plane that contains the $z$-axis, we can treat $k_z$ as a conserved quantity. At this $k_z=m$, the Hamiltonian is just that of a Chern insulator with an appropriate Chern number. For the range of $k_z$ where the Chern number $n_{Ch}(k_z)=1$, the surface spectrum supports chiral edge states with an energy approximated at low energy by </p>
<p>$$E(k_x,k_z)\approx v(k_z)k_x.$$</p>
<p>We can consider the edge states over a range of $k_z$ together to visualize the “surface states”. </p>
<blockquote>
<p>The unique property of the surface states is that if we set $k_x=0$ then the energy vanishes on a line in the surface spectrum. This line actually terminates at $k_z=0$, where the Chern number changes. Such lines, which are referred to as “Fermi arcs,” are the unique bounday properties (hence the bulk-boundary correspondence) of Weyl semimetals.</p>
</blockquote>
<p>At large enough $k_z$, the two dimensional Hamiltonian $H_{2D,Dirac}(k_x,k_y;k_z)$ becomes trivial i.e. $n_{Ch}(|k_z|\rightarrow \infty)=0$. This means that if the Chern number is $n_{Ch}=1$ in a range of $k_z$, then $n_{Ch}(k_z)$ must change twice resulting in two Weyl points. So Weyl points come in pairs. These points map onto the ends of the Fermi arcs on the surface. </p>
<p><img src="/2021/01/07/src/w10_extensions/gapless/weyl.svg" alt></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">question = <span class="string">r&quot;What protects the surface state of Weyl semi-metals from scattering inside the bulk Weyl point?&quot;</span></span><br><span class="line"></span><br><span class="line">answers = [</span><br><span class="line">    <span class="string">&quot;Chiral symmetry.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;The energy gap in the bulk.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Absence of scattering.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;The non-zero Chern number of the bulk.&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">explanation = (</span><br><span class="line">    <span class="string">r&quot;The bulk has gapless states due to the Weyl point. &quot;</span></span><br><span class="line">    <span class="string">&quot;Therefore, only momentum conservation protects surface states from going into the bulk.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">MoocMultipleChoiceAssessment(</span><br><span class="line">    question=question, answers=answers, correct_answer=<span class="number">2</span>, explanation=explanation</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p><strong>Questions about what you just learned? Ask them below!</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocDiscussion(<span class="string">&quot;Questions&quot;</span>, <span class="string">&quot;Topology in gapless systems&quot;</span>)</span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-src/w0_background/intro"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2021/01/07/src/w0_background/intro/" class="article-date">
  <time datetime="2021-01-07T09:11:06.785Z" itemprop="datePublished">2021-01-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This cell is present in all the notebooks.</span></span><br><span class="line"><span class="comment"># It makes the necessary packages available and adjusts various settings.</span></span><br><span class="line"><span class="comment"># You should execute this cell at the start.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="string">&quot;../../code&quot;</span>)</span><br><span class="line"><span class="keyword">from</span> init_mooc_nb <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">init_notebook()</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> IPython.display <span class="keyword">import</span> HTML</span><br></pre></td></tr></table></figure>

<h1 id="A-welcome-word"><a href="#A-welcome-word" class="headerlink" title="A welcome word"></a>A welcome word</h1><p>First of all, greetings from the TOPOCMx team! We are very happy that you chose to follow our course.</p>
<p>Through TOPOCMx we want to provide an introduction to the new topics on topology in condensed matter.<br>We want it to be simple, and we want it to be useful for people with very different background and motivation.</p>
<p>We want the course to be useful to you if you are a <strong>master student</strong>, and you want to get an understanding of what topology is all about.</p>
<p>Or you could be a <strong>PhD student or a postdoc</strong> doing experiments, and you want to get a better theoretical understanding of what you should expect in your investigations.</p>
<p>You could even be a <strong>theorist working in topology</strong> and be extremely familiar with topological invariants and vector bundles, but you would like to get a better understanding of how the mathematical ideas apply in physical systems.</p>
<p>Finally, we also want this course to be equally useful if you are, say, a <strong>professor working in condensed matter</strong> and you want to apply the ideas introduced by topology in your domain, so that you just need a quick overview of what research activity is there.</p>
<p>But even despite your different backgrounds, we want our course to feel like this:</p>
<img src="/2021/01/07/src/w0_background/intro/magnetic_discussion_bruno_touschek.png" alt="Discussion" style="width: 70%;">

<p>rather than this:</p>
<img src="/2021/01/07/src/w0_background/intro/bored_audience_bruno_touschek.png" alt="Bored audience" style="width: 70%;">

<p><em>(Images by Bruno Touschek, © 1981 <a target="_blank" rel="noopener" href="http://cds.cern.ch/record/135949">CERN</a> CC-BY-3.0)</em></p>
<h3 id="What-you-get"><a href="#What-you-get" class="headerlink" title="What you get"></a>What you get</h3><p>Let us explain what you can expect from the course, and what is special about it.<br>The first thing which you need to understand is that the course is hard.<br>We don’t mean advanced and involved math (we took care to skip all the parts that don’t help understanding).<br>Instead, since topology has impact on many different physical phenomena, the course will touch a lot of different concepts in condensed matter physics.</p>
<p>First of all, we will provide you with a description of the most <strong>important facts and discoveries in topology</strong> in the most simple and concise manner that we can find.</p>
<p>This will still be hard to some of you, since the required background in condensed matter physics is still broad.<br>If you see that it is the case, you will need to search for advice in the course <strong>discussions</strong>, so you’ll also use the course as an expert community.</p>
<p>If you are experienced already, you may find the lectures straightforward.<br>However, even though active research on topological insulators began less than ten years ago,<br>the field is already incredibly broad.</p>
<p>This is why we want our course to also fulfill a role of a <strong>journal club</strong>:<br>every week we’ll ask you to read one of several suggested papers, observe how the concepts that you learn<br>appear in a new context, and summarize it for the other participants.<br>That way you will learn to analyze research papers and get an <strong>overview of the field</strong>.</p>
<p>Most of the numerical simulations that are used in our research are actually amazingly easy if you know how to do them.<br>While teaching how to do computer simulations is not our main aim, we provide already set up simulations for the systems we describe in the lectures.</p>
<p>Using these <strong>computer simulations</strong> you can see for yourself how various models behave, discover new parameter regimes that we don’t cover in the lectures, or even extend the simulations and see how adding new terms to the models changes the results.</p>
<h3 id="How-you-can-help-us"><a href="#How-you-can-help-us" class="headerlink" title="How you can help us"></a>How you can help us</h3><p>MOOCs like this one are not a usual way for providing graduate-level materials, and even less so materials that are a topic of active research.</p>
<p>We believe that it is a very useful and promising way of knowledge dissemination, that has advantages over a book, a university course, or a review.</p>
<p>This is why it is extremely important for us to know what is your background and your motivation to take the course.<br>We want you to share what you found difficult, what you found easy, and where you think the course can be improved.</p>
<p>Moreover, we publish the <strong>source code</strong> for every single bit of this course in this <a target="_blank" rel="noopener" href="https://github.com/topocm/topocm_content">Github repository</a>.<br>So whenever you see a typo, or you would like to suggest an improvement, you can open a new issue, (or even make a pull request if you know how to use Github).</p>
<h1 id="Software-you-will-need"><a href="#Software-you-will-need" class="headerlink" title="Software you will need"></a>Software you will need</h1><p>If you don’t want to be bothered trying out the numerical simulations, you are all set if you have an EdX account and you are signed up for the course.</p>
<p>However we strongly recommend to not skip the numerical simulations part. Following it will help you to develop intuition about how the topological systems behave. The numerical simulations can also serve as an extremely useful tool helping both in experiments and theory.</p>
<p>To get going with the simulations, you will need to get the computational software.<br>Specifically you need:</p>
<ul>
<li>Python 3.5 or 3.6</li>
<li>Python scientific stack (SciPy, NumPy, Matplotlib, Jupyter notebook)</li>
<li>Holoviews 1.7, a Python library for plotting data.</li>
<li><a target="_blank" rel="noopener" href="http://kwant-project.org">Kwant</a> 1.3, a package for quantum transport simulations.</li>
</ul>
<p>The installation should be straightforward.<br>Installation of most of the requirements is described <a target="_blank" rel="noopener" href="http://kwant-project.org/install">here</a>.</p>
<p>If you are using Windows, you are all set after following the above instructions.</p>
<p>The easiest way to install <code>kwant</code> when you are using Linux or OS X is with <code>conda</code> which comes with Miniconda, a Python distribution.</p>
<ol>
<li><p>Open a terminal and download <a href="http://conda.pydata.org/miniconda.html>">Miniconda</a><br>(or <a target="_blank" rel="noopener" href="https://www.continuum.io/downloads">Anaconda</a>) by running:</p>
<pre><code>wget https://repo.continuum.io/miniconda/Miniconda3-latest-MacOSX-x86_64.sh</code></pre></li>
<li><p>Install Miniconda with:</p>
<pre><code>bash Miniconda3-latest-MacOSX-x86_64.sh</code></pre><p>and follow its instructions. Make sure that <code>conda</code> is in your PATH, which you<br>can do by adding <code>export PATH=&quot;$HOME/miniconda3/bin:$PATH&quot;</code> to your <code>.bashrc</code><br>or <code>.bash_profile</code>.</p>
</li>
<li><p>Add the <a target="_blank" rel="noopener" href="https://conda-forge.github.io/">conda-forge</a> channel and install<br>Kwant and its dependencies with:</p>
<pre><code>conda config --add channels conda-forge
conda install kwant holoviews notebook feedparser</code></pre></li>
</ol>
<h3 id="Jupyter-notebooks"><a href="#Jupyter-notebooks" class="headerlink" title="Jupyter notebooks"></a>Jupyter notebooks</h3><p>A separate mention of the software we use goes to Jupyter notebooks.</p>
<p>Every document that you see in our course (including the one that you are reading right now) was prepared as a Jupyter notebook.</p>
<p>These notebooks are extremely handy, they allow:</p>
<ul>
<li>To use an interactive computing environment where you can see what your simulation does right as you are creating it.</li>
<li>To combine nicely formatted text (with Latex equations and images) together with code in any language and the output of that code.</li>
<li>To easily share that same code: here, take a look at the source of <a target="_blank" rel="noopener" href="http://nbviewer.ipython.org/github/topocm/topocm_content/blob/master/w0_background/intro.ipynb">the notebook</a> that you are currently reading.</li>
<li>To convert it to a presentation, blog post, or an EdX course.</li>
</ul>
<p>The combination of the above nice properties with many more and with Jupyter being free software lead to the notebooks being <a target="_blank" rel="noopener" href="http://www.nature.com/news/interactive-notebooks-sharing-the-code-1.16261">highlighted</a> in Nature.</p>
<p>For a short presentation of Jupyter notebooks just use <code>Help -&gt; User Interface Tour</code> inside the notebook.</p>
<h3 id="Sharing-notebooks"><a href="#Sharing-notebooks" class="headerlink" title="Sharing notebooks"></a>Sharing notebooks</h3><p>Showing the results of your work is very easy.</p>
<p>If you are using Sage Cloud, you can just click the “share the notebook” button when you have it opened, and copy the URL.</p>
<p>Otherwise you can make the notebook visible online (for example by putting it in your Dropbox public folder or something similar), copy link, and paste it into <a target="_blank" rel="noopener" href="http://nbviewer.ipython.org">http://nbviewer.ipython.org</a>.</p>
<h3 id="Kwant-Python-and-Python-scientific-software"><a href="#Kwant-Python-and-Python-scientific-software" class="headerlink" title="Kwant, Python, and Python scientific software"></a>Kwant, Python, and Python scientific software</h3><p>For most of the simulations of condensed matter systems we are going to use the Kwant package. You can learn Kwant in more detail by following the <a target="_blank" rel="noopener" href="http://kwant-project.org/doc/1.0/tutorial/">tutorial</a>, however we aim that for most of the exercises you will be able to learn by doing. The starting point of the exercises are the notebooks used in the lectures, and you should be able to solve them by only modifying the contents not too much.</p>
<p>The same applies to Python and the Python scientific stack (NumPy, SciPy, Matplotlib): these are easy to use, especially when you have code examples. If you are new to programming and wish to get acquainted with Python,<br><a target="_blank" rel="noopener" href="http://www.learnpython.org/">here</a> are <a target="_blank" rel="noopener" href="http://www.python-course.eu/">several</a> <a target="_blank" rel="noopener" href="https://www.codecademy.com/learn/python">example courses</a> that start from the basics and slowly go into advanced topics. There are of course several MOOCs as well, but you will likely not need as much programming skill.</p>
<p><strong>Do you have questions about installation? Use this discussion:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MoocDiscussion(<span class="string">&quot;Software&quot;</span>, <span class="string">&quot;Help with installation&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Literature"><a href="#Literature" class="headerlink" title="Literature"></a>Literature</h1><p>We are mostly going to focus on the overall structure of the field and study the most basic and general phenomena. We will also skip detailed derivations or some details.</p>
<p>For a more formal and complete source of information on topological insulators and superconductors we recommend you to look into the reviews below. (Of course we think they will be much easier to follor after you finish the course).</p>
<h2 id="Topological-insulator-reviews"><a href="#Topological-insulator-reviews" class="headerlink" title="Topological insulator reviews"></a>Topological insulator reviews</h2><ul>
<li>arXiv:0801.0901</li>
<li>arXiv:1002.3895</li>
<li>arXiv:1008.2026</li>
</ul>
<h2 id="Majorana-fermion-reviews"><a href="#Majorana-fermion-reviews" class="headerlink" title="Majorana fermion reviews"></a>Majorana fermion reviews</h2><ul>
<li>arXiv:1112.1950</li>
<li>arXiv:1202.1293</li>
<li>arXiv:1206.1736</li>
<li>arXiv:1407.2131</li>
</ul>
<h2 id="Advanced-topics-Fractional-particles-and-topological-quantum-computation"><a href="#Advanced-topics-Fractional-particles-and-topological-quantum-computation" class="headerlink" title="Advanced topics: Fractional particles and topological quantum computation"></a>Advanced topics: Fractional particles and topological quantum computation</h2><ul>
<li>arXiv:0707.1889</li>
<li>arXiv:0711.4697</li>
<li>arXiv:1404.0897</li>
</ul>
<h2 id="Extra-topics"><a href="#Extra-topics" class="headerlink" title="Extra topics"></a>Extra topics</h2><ul>
<li>arXiv:1211.5623</li>
<li>arXiv:1501.00531</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-src/syllabus.md"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
     
    <div class="article-meta">
      <a href="/2021/01/07/src/syllabus.md/" class="article-date">
  <time datetime="2021-01-07T09:11:06.781Z" itemprop="datePublished">2021-01-07</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  # Syllabus


## Course structure

* Each section consists of several relatively self-contained topics, each introduced and summarized by an expert.
* If you have questions about the material, ask them using the discussion right after the final video of each topic.
* The assignments are a combination of numerical simulations, where you evaluate your success on your own (but do share your results), and a review of a paper out of a selection of papers. The reviews are then cross-evaluated by other participants.
* In order to keep everyone on the same page, we set a one week deadline for the assignments (plus an extra week for cross-evaluation of the paper reviews). The questions in the course materials have no deadline.

## Current course team

**Anton Akhmerov** is an assistant professor in Kavli Institute of Nanoscience of Delft University of Technology and QuTech.

**Jay Sau** is an assistant professor in the area of theoretical Condensed matter physics at the University of Maryland, College Park, USA.

**Bernard van Heck** is a postdoc at Yale University.

**Bas Nijholt, Irfan Muhammad, Tómas Örn Rosdahl** are PhD students working in Kavli Institute for Nanoscience at TU Delft supervised by Anton Akhmerov.

## Other course developers

The initial verison of the course was created by:
* Anton Akhmerov
* Jay Sau
* Bernard van Heck
* Sebastian Rubbert
* Rafał Skolasiński

## Acknowledgements

When working on the course, we greatly benefitted from support of

* [Delft University of Technology](http://tudelft.nl) and its Extension School
* [QuTech](http://qutech.nl)
* [Casimir Research School](http://casimir.researchschool.nl) and the [NanoFront](http://casimir.researchschool.nl/nanofront) program
* [University of Maryland](http://umd.edu) and its Physics Department
* [Joint Quantum Institute](http://jqi.umd.edu)

We thank [M. Wimmer](http://michaelwimmer.org/) and [C. Groth](http://inac.cea.fr/Pisp/christoph.groth/) for letting us use their code in some of the course materials.

For the support with implementing the technical aspects of the course we thank

* The [Jupyter project](https://jupyter.org) and its developer team, especially Min Ragan-Kelley.
* [SageMathCloud](https://cloud.sagemath.org) and its creator W. Stein.
* The [Holoviews](https://holoviews.org) team: Jean-Luc Stevens and Philipp Rudiger.

Finally, we thank all the external speakers for contributing the videos for the course.

## License

Unless otherwise specified the **Course Materials** of TU
Delft TOPOCMx are Copyright [Delft University of Technology](http://www.tudelft.nl/en/) and are licensed under
a [Creative Commons Attribution-ShareAlike 4.0
International License](http://creativecommons.org/licenses/by-sa/4.0/)
[![](https://i.creativecommons.org/l/by-sa/4.0/88x31.png)](http://creativecommons.org/licenses/by-sa/4.0/)

The **source code** can also be used under conditions of the 3-clause BSD licence:

 Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

**Videos contributed by external experts** are copyright of their creators, and are also available under Creative Commons Attribution 3.0 Unported License.
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-pytorch_learning"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/02/pytorch_learning/"
    >pytorch 学习</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/05/02/pytorch_learning/" class="article-date">
  <time datetime="2020-05-02T05:41:10.000Z" itemprop="datePublished">2020-05-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="pytorch-学习"><a href="#pytorch-学习" class="headerlink" title="pytorch 学习"></a>pytorch 学习</h3><h4 id="1-pytorch的优点"><a href="#1-pytorch的优点" class="headerlink" title="1. pytorch的优点"></a>1. pytorch的优点</h4><pre><code>自动微分
集成常用函数
拥有数据处理函数
多精度训练</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">torch.manual_seed(<span class="number">466</span>)</span><br><span class="line">np.random.seed(<span class="number">466</span>)</span><br></pre></td></tr></table></figure>

<h4 id="numpy-ndarray-与-pytorch-Tensors-之间的联系"><a href="#numpy-ndarray-与-pytorch-Tensors-之间的联系" class="headerlink" title="numpy ndarray 与 pytorch Tensors 之间的联系"></a>numpy ndarray 与 pytorch Tensors 之间的联系</h4> 
      <a class="article-more-link" href="/2020/05/02/pytorch_learning/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/deeplearning/" rel="tag">deeplearning</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pytorch/" rel="tag">pytorch</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-20200411"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/11/20200411/"
    >20200411-日志</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/11/20200411/" class="article-date">
  <time datetime="2020-04-10T16:00:00.000Z" itemprop="datePublished">2020-04-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/logs/">logs</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  -------- 
      <a class="article-more-link" href="/2020/04/11/20200411/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logs/" rel="tag">logs</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-一些想法"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/10/%E4%B8%80%E4%BA%9B%E6%83%B3%E6%B3%95/"
    >日志——2020年4月10日</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/10/%E4%B8%80%E4%BA%9B%E6%83%B3%E6%B3%95/" class="article-date">
  <time datetime="2020-04-09T16:00:00.000Z" itemprop="datePublished">2020-04-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/logs/">logs</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  密码：**** 
      <a class="article-more-link" href="/2020/04/10/%E4%B8%80%E4%BA%9B%E6%83%B3%E6%B3%95/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flag/" rel="tag">flag</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logs/" rel="tag">logs</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-a"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/07/a/"
    >Markdown中的LaTeX格式</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/07/a/" class="article-date">
  <time datetime="2020-04-07T03:41:10.000Z" itemprop="datePublished">2020-04-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="Markdown中的LaTeX格式"><a href="#Markdown中的LaTeX格式" class="headerlink" title="Markdown中的LaTeX格式"></a>Markdown中的LaTeX格式</h3><p>大部分情况下，我对于latex的数学公式都是内嵌于Markdown文本编辑器中的，分为两种形式</p>
<ol>
<li>行内公式排版：</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>c = \sqrt&#123;a^&#123;<span class="number">2</span>&#125;+b_&#123;<span class="number">0</span>&#125;^&#123;<span class="number">2</span>&#125;+e^&#123;x&#125;&#125; $</span><br></pre></td></tr></table></figure>

<p>$ c = \sqrt{a^{2}+b_{0}^{2}+e^{x}} $</p>
<ol>
<li>块公式排版：</li></ol> 
      <a class="article-more-link" href="/2020/04/07/a/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%85%AC%E5%BC%8F/" rel="tag">公式</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-start"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/06/start/"
    >Markdown 学习</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/06/start/" class="article-date">
  <time datetime="2020-04-06T03:41:10.000Z" itemprop="datePublished">2020-04-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Markdown-语法学习"><a href="#Markdown-语法学习" class="headerlink" title="Markdown 语法学习"></a><strong>Markdown</strong> 语法学习</h1><h2 id="1-分级标题"><a href="#1-分级标题" class="headerlink" title="1. 分级标题"></a>1. 分级标题</h2><hr>
<pre><code># 一级标题</code></pre><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题  "></a>六级标题  <!-- 最多六级标题 --></h6><blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 一级标题</span></span><br><span class="line"><span class="section">## 二级标题</span></span><br><span class="line"><span class="section">### 三级标题</span></span><br><span class="line"><span class="section">#### 四级标题</span></span><br><span class="line"><span class="section">##### 五级标题</span></span><br><span class="line"><span class="section">###### 六级标题  &lt;!--最多6级标题--&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<hr> 
      <a class="article-more-link" href="/2020/04/06/start/"
        >阅读更多...</a
      >
       
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-demo"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/02/demo/"
    >first_upload</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2020/04/02/demo/" class="article-date">
  <time datetime="2020-04-02T03:41:10.000Z" itemprop="datePublished">2020-04-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/demo/">demo</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>$$sqrt{a}$$ </p>
<p> some   <strong>s</strong>  jiuzai </p>
<p>$$<br>J_\alpha(x) = \sum_{m=0}^\infty \frac{(-1)^m}{m! \Gamma (m + \alpha + 1)} {\left({ \frac{x}{2} }\right)}^{2m + \alpha} \text {，行内公式示例}<br>$$</p>
<hr>
<p>something</p>
<hr>
<p><img src="/2020/04/02/demo/a.jpg" alt="hh"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/demo/" rel="tag">demo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/4/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2019-2021
        <i class="ri-heart-fill heart_icon"></i> huyi
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="O"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2020/about">关于我</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/logs/">日志</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://pan.ihuyi.xyz">网盘</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://aria.ihuyi.xyz">aria2</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->
 <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true,
  };
</script>

<!-- Katex -->
 
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script>
        
    
 
<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>
 
<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>